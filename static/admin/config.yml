# configuration for netlify cms

backend:
  name: git-gateway
  branch: master # Branch to update (optional; defaults to master)

# This line should *not* be indented
publish_mode: editorial_workflow

media_folder: static/assets
public_folder: static

display_url: https://jamstack-static-generated-app.netlify.com

show_preview_links: true


collections:

  # The product categories are matched with
  - name: productCategories
    label: Product Categories
    editor:
      preview: true
    folder: content/productCategories
    slug: '{{slug}}'
    create: true # Allow users to create new documents in this collection
    fields:
      - { label: Slug, name: slug, widget: string }
      - { label: Title, name: title, widget: string }
      - { label: Featured Image, name: featuredImage, widget: image, required: false }
      - { label: Body, name: body, widget: markdown }

  # Static pages
  - label: "Pages"
    name: "pages"
    files:
      - label: "Home"
        name: "home"
        file: "content/pages/home.md"
        fields:
          - {label: Title, name: title, widget: string}
          - {label: Intro, name: intro, widget: markdown}
          - label: Translated
            name: translated
            widget: list
            defaults: ["de", "en"]
            fields:
              - {label: Title, name: title, widget: string}

  # Add global settings here
  - name: 'settings'
    label: 'Settings'
    delete: false
    editor:
      preview: false
    files:
      - file: 'content/settings/global.yml'
        label: 'Global Settings'
        name: 'global-settings'
        fields:
          # All fields should be multilingual, a special widget is needed here
          - label: "Site Title"
            name: "site title"
            widget: "object"
            fields:
              - {label: "Deutsch", name: "de", widget: "string"}
              - {label: "English", name: "en", widget: "string"}
          - { label: Site Url, name: siteUrl, widget: string, required: false }
          - {
              label: Site Description,
              name: siteDescription,
              widget: text,
              required: false,
            }
          - label: Social Media Card
            name: socialMediaCard
            widget: object
            fields:
              - { label: Image, name: image, widget: image, required: false }
          - {
              label: Google Analytics Tracking Id,
              name: googleTrackingId,
              widget: string,
              required: false,
            }
